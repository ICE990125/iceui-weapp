// 这部分来着 codepen, 正经人谁会写这种东西

$color1: rgba(255, 255, 255, 0.2);
$color2: #c0c4cc;
$duration: 1s;

.i-loading__container {
  width: auto;
  height: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  .i-shutter-loading__container {
    font-size: 0;
    $duration2: 2.5s;

    .leaf {
      position: relative;
      width: 50%;
      height: 50%;
      display: inline-block;

      &::before {
        content: '';
        background-color: #fff;
        position: absolute;
        width: 100%;
        height: 100%;
        transform-origin: 100% 100%;
        animation: folding $duration2 infinite linear both;
      }
    }

    .leaf-2 {
      transform: rotateZ(90deg);

      &::before {
        animation-delay: 0.3s;
        background-color: #f2f2f2;
      }
    }

    .leaf-3 {
      transform: rotateZ(270deg);

      &::before {
        animation-delay: 0.9s;
        background-color: #f2f2f2;
      }
    }

    .leaf-4 {
      transform: rotateZ(180deg);

      &::before {
        animation-delay: 0.6s;
        background-color: #e6e6e6;
      }
    }
  }

  .i-normal-loading__container {
    .loading {
      border-radius: 50%;
      width: 100%;
      height: 100%;
      border: 2px solid $color1;
      border-top-color: $color2;
      border-right-color: $color2;
      border-bottom-color: $color2;
      box-sizing: border-box;
      animation: spin $duration infinite linear;
    }

    // 普通旋转动画
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  }

  .i-pulse-loading__container {
    display: flex;
    justify-content: center;

    .pulse {
      position: relative;
      width: 25%;
      height: 100%;
      background: $color1;
      animation: pulse $duration infinite;
      animation-delay: calc($duration / 3);
      &::before,
      &::after {
        content: '';
        position: absolute;
        display: block;
        height: 70%;
        width: 100%;
        background: $color1;
        top: 50%;
        transform: translateY(-50%);
        animation: pulse 1s infinite;
      }
      &::before {
        left: -150%;
      }
      &::after {
        left: 150%;
        animation-delay: calc($duration / 1.5);
      }
    }
  }

  // 文字
  .i-loading__text {
    margin-top: 1em;

    &::after {
      content: '';
      animation: dot 2s linear infinite;
    }
  }
}

// 折叠动画
@keyframes folding {
  0%,
  10% {
    transform: perspective(140px) rotateX(-180deg);
    opacity: 0;
  }

  25%,
  75% {
    transform: perspective(140px) rotateX(0deg);
    opacity: 1;
  }

  90%,
  100% {
    transform: perspective(140px) rotateY(180deg);
    opacity: 0;
  }
}

// 加载字体动画
@keyframes dot {
  0% {
    content: '';
  }
  25% {
    content: '.';
  }
  50% {
    content: '..';
  }
  75% {
    content: '...';
  }
}

@keyframes pulse {
  50% {
    background: $color2;
  }
}
